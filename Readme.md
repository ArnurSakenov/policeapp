
# PoliceConnect (iOS) by team 51

**PoliceConnect** — мобильное приложение для граждан, позволяющее сообщать о происшествиях, получать новости, общаться с полицией в чате и проходить авторизацию с двухфакторной аутентификацией.

## Функционал

- **Новости:**  
  Отображение новостной ленты с текстами и изображениями, получаемых с удалённого сервера.

- **Инциденты:**  
  Подача заявлений о происшествиях с возможностью прикрепления фото/видео, выбора геолокации и опцией анонимной отправки.

- **Чат:**  
  Реальный обмен сообщениями с полицией через WebSocket.

- **Авторизация:**  
  Вход с использованием JWT и двухфакторной аутентификации (TOTP), где код генерируется автоматически на основе секрета.

## Использованные технологии

- **SwiftUI** – построение современного интерфейса
- **Combine** – управление состоянием и реактивное программирование
- **URLSession / Alamofire** – выполнение HTTP-запросов и multipart/form-data загрузка
- **Firebase Firestore & Storage** (раньше использовались, сейчас заменены на API бэкенда)
- **MapKit / CoreLocation** – выбор и обратное геокодирование локации
- **SwiftOTP** – генерация TOTP кодов для 2FA
- **URLSessionWebSocketTask** – реализация чата через WebSocket

## Установка и запуск

1. **Клонирование репозитория:**  
   ```bash
   git clone https://github.com/ArnurSakenov/policeapp
   ```
2. **Открытие проекта:**  
   Откройте файл `PoliceConnect.xcodeproj` или `PoliceConnect.xcworkspace` в Xcode.
3. **Настройка зависимостей:**  
   Убедитесь, что все пакеты (Firebase, SwiftOTP, Alamofire) добавлены через Swift Package Manager.
4. **Конфигурация API:**  
   Проверьте настройки API (эндпоинты, ключи) в проекте, они указаны в соответствующих файлах.
5. **Запуск:**  
   Соберите и запустите приложение на симуляторе или реальном устройстве.

## Примечания

- **Синхронизация времени:**  
  Для корректной работы TOTP убедитесь, что время на устройстве синхронизировано с сервером.

- **Тестирование:**  
  Если тестируете на физическом устройстве, убедитесь, что URL-адреса API настроены правильно (вместо localhost – используйте IP-адрес сервера).

- **Отладка:**  
  Используйте встроенный лог для отслеживания работы авторизации, загрузки инцидентов и чата.
